/* This div will hold the 3D canvas */
.molecule-canvas-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1; /* Places the canvas in the background */
    opacity: 0.7; /* Slightly transparent to not be too distracting */
}

.third-section-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background-color: #090909;
}
/* --- NEW RAIN STYLES --- */
.third-section-rain {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1; /* Above the glow (z-index 0), below the text (z-index 2) */
    pointer-events: none; /* Allows scrolling/clicking through the rain */
    opacity: 0.8; /* High visibility */
    mix-blend-mode: screen; /* Blends black background of Lottie with the section */
    transform: scale(1.1); /* Ensures full coverage without edges */
    filter: brightness(1.2) contrast(1.1); /* Matches the "pop" of the previous section */
}

/* Renamed for clarity - this holds the molecule */
.foreground-animation-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1; /* Above the glow (z-index: 0) */
}

/* The text content needs the highest z-index */
.third-section-container .content-wrapper {
    position: relative;
    z-index: 2; /* On top of everything */
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    text-align: center;
}


.third-section-flower {
    position: absolute;
    bottom: -5%; /* Move down slightly to hide any cut-off edges */
    left: 50%;
    transform: translateX(-50%);
    width: 300px; /* Large enough to be a focal point */
    height: 300px;
    z-index: 2; /* Sits with/behind text */
    pointer-events: none;
    opacity: 0.9;
    /* Optional: Make it look a bit eerie/dark to fit the theme */
    filter: drop-shadow(0 0 30px rgba(0,0,0,0.8)) brightness(0.8);
}

/* Mobile Adjustments */
@media (max-width: 768px) {
    .third-section-flower {
        width: 250px;
        height: 250px;
    }
}

.third-section-container .content-wrapper {
    position: relative;
    z-index: 3; /* Ensure text is above all animations */
}